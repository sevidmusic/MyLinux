#!/bin/bash

# Functions

# updateWal()
#
# Update pywal to use current desktop background
# image as color scheeme source
#
function updateWal()
{
    currentWallpaper=$(gsettings get org.gnome.desktop.background picture-uri-dark | sed "s/'//g") &&
    [ -f "$currentWallpaper" ] &&
    wal -c &&
    wal -q --backend="$(cat ~/.lastColorBackend.txt)" -i "$currentWallpaper"
}

# Options
set -o vi

# Environment Vars
PATH="${PATH}:${HOME}/.darling"
PATH="${PATH}:${HOME}/.local/bin"

# PS#
PS1="\[\033[01;0m\]\[\033[01;105m\]\[\033[01;30m\] \u \[\033[01;102m\] \w \[\033[01;0m\]\n\n\[\033[01;104m\] $ \[\033[01;0m\] "

# Vars
alias map="mapscii"
alias tmap="telnet mapscii.me"
alias cdswp="cd /home/darling/.local/share/nvim/swap/"
alias c='clear'
alias gfav='gtav ":)"'
alias ls='exa -laF'
alias more='less -R'
alias less='less -R'
alias q='exit'
alias r="history -c && reset"
alias tls='tmux ls'
alias tna='tmux attach -t'
alias tns='tmux new -s'
alias voa='xargs --delimiter "\\n" --arg-file="${HOME}/vimfilelist" nvim --'
alias gst='git status'
alias gdf='git diff'
alias gds='git diff --stat'
alias gpu='printf "\n\e[0m\e[105m\e[30mAre you sure that you want to push your changes to github? (y|n)\e[0m\n"; read c; [ "${c}" == "y" ] && git push -u'
alias gs='echo "gs is disabled via an alias defined in ~/.darlingrc"'
alias cmx='cmatrix -su 11'
alias cat='bat --style plain'
#alias mylinux='/usr/bin/git --git-dir="${HOME}/.MyLinux" --work-tree="${HOME}"'
alias uts='date +"%s"'
alias edrc='vim ${HOME}/.darlingrc'
alias sdrc='source ${HOME}/.darlingrc'
alias rbytes='head -c 5M /dev/urandom | sha1sum | sed "s/-//g" | sed "s/ //g"'
alias myip='ifconfig wlo1 | grep "inet "'
alias smon='sudo tcpdump -i'
alias chess='telnet freechess.org'
alias sshDarlingArchRoot='ssh root@45.79.172.110'
alias sshDarlingArchDarling='ssh darling@45.79.172.110'

# Make sure colors match background image

[ -z "$TMUX" ] && updateWal;

# show todo list
# echo "Todo: "
# echo
# td list
# echo
# echo "To view todo: td list | To add todo: td add \"todo\" | To remove todo: td done <int>"
#
