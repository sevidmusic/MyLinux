Static method to remove a directory recursively in php:

    public static function removeDirectory(string $dir): void
    {
        $protectedPaths = ['/'];
        if (!in_array($dir, $protectedPaths) && is_dir($dir)) {
            $ls = scandir($dir);
            $contents = (is_array($ls) ? $ls : []);
            foreach ($contents as $item) {
                if ($item != "." && $item != "..") {
                    $itemPath = $dir . DIRECTORY_SEPARATOR . $item;
                    (is_dir($itemPath) === true && is_link($itemPath) === false)
                        ? self::removeDirectory($itemPath)
                        : unlink($itemPath);
                }
            }
            rmdir($dir);
        }
    }


To change desktop background use:

If dark theme is set as preference in settings:

    `gsettings set org.gnome.desktop.background picture-uri-dark`

If light theme is set as preference in settings:

    `gsettings set org.gnome.desktop.background picture-uri`

@see https://askubuntu.com/questions/1403952/wallpaper-background-switches-back-to-default-when-in-dark-mode-22-04-lts
